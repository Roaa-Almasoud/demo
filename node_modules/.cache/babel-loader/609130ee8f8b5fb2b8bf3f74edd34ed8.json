{"ast":null,"code":"var ObjectComponent = require('../core/ObjectComponent'),\n    Node = require('../core/document/Node');\n\nvar Event_ = require('../core/event/Event'),\n    NodeEvent = require('../core/document/NodeEvent'),\n    ComponentEvent = require('../core/ComponentEvent');\n\nfunction Checkbox(parent, object, value, params) {\n  ObjectComponent.apply(this, arguments);\n  params = params || {};\n  params.onChange = params.onChange || this._onChange;\n  this._onChange = params.onChange;\n  var node = this._input = new Node(Node.INPUT_CHECKBOX);\n  node.setProperty('checked', this._obj[this._key]);\n  node.addEventListener(NodeEvent.CHANGE, this._onInputChange.bind(this));\n\n  this._wrapNode.addChild(this._input);\n}\n\nCheckbox.prototype = Object.create(ObjectComponent.prototype);\nCheckbox.prototype.constructor = Checkbox;\n\nCheckbox.prototype.applyValue = function () {\n  this.pushHistoryState();\n  var obj = this._obj,\n      key = this._key;\n  obj[key] = !obj[key];\n  this.dispatchEvent(new Event_(this, ComponentEvent.VALUE_UPDATED, null));\n};\n\nCheckbox.prototype._onInputChange = function () {\n  this.applyValue();\n\n  this._onChange();\n};\n\nCheckbox.prototype.onValueUpdate = function (e) {\n  if (e.data.origin == this) {\n    return;\n  }\n\n  this._input.setProperty('checked', this._obj[this._key]);\n};\n\nmodule.exports = Checkbox;","map":{"version":3,"sources":["/Users/roaa/Desktop/demo/node_modules/@brunoimbrizi/controlkit/lib/component/Checkbox.js"],"names":["ObjectComponent","require","Node","Event_","NodeEvent","ComponentEvent","Checkbox","parent","object","value","params","apply","arguments","onChange","_onChange","node","_input","INPUT_CHECKBOX","setProperty","_obj","_key","addEventListener","CHANGE","_onInputChange","bind","_wrapNode","addChild","prototype","Object","create","constructor","applyValue","pushHistoryState","obj","key","dispatchEvent","VALUE_UPDATED","onValueUpdate","e","data","origin","module","exports"],"mappings":"AAAA,IAAIA,eAAe,GAAGC,OAAO,CAAC,yBAAD,CAA7B;AAAA,IACIC,IAAI,GAAcD,OAAO,CAAC,uBAAD,CAD7B;;AAGA,IAAIE,MAAM,GAAWF,OAAO,CAAC,qBAAD,CAA5B;AAAA,IACIG,SAAS,GAAQH,OAAO,CAAC,4BAAD,CAD5B;AAAA,IAEII,cAAc,GAAGJ,OAAO,CAAC,wBAAD,CAF5B;;AAIA,SAASK,QAAT,CAAkBC,MAAlB,EAA0BC,MAA1B,EAAkCC,KAAlC,EAAyCC,MAAzC,EAAiD;AAC7CV,EAAAA,eAAe,CAACW,KAAhB,CAAsB,IAAtB,EAA2BC,SAA3B;AAEAF,EAAAA,MAAM,GAAGA,MAAM,IAAI,EAAnB;AACAA,EAAAA,MAAM,CAACG,QAAP,GAAkBH,MAAM,CAACG,QAAP,IAAmB,KAAKC,SAA1C;AACA,OAAKA,SAAL,GAAiBJ,MAAM,CAACG,QAAxB;AAEA,MAAIE,IAAI,GAAG,KAAKC,MAAL,GAAc,IAAId,IAAJ,CAASA,IAAI,CAACe,cAAd,CAAzB;AACAF,EAAAA,IAAI,CAACG,WAAL,CAAiB,SAAjB,EAA2B,KAAKC,IAAL,CAAU,KAAKC,IAAf,CAA3B;AACAL,EAAAA,IAAI,CAACM,gBAAL,CAAsBjB,SAAS,CAACkB,MAAhC,EAAuC,KAAKC,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAvC;;AAEA,OAAKC,SAAL,CAAeC,QAAf,CAAwB,KAAKV,MAA7B;AACH;;AACDV,QAAQ,CAACqB,SAAT,GAAqBC,MAAM,CAACC,MAAP,CAAc7B,eAAe,CAAC2B,SAA9B,CAArB;AACArB,QAAQ,CAACqB,SAAT,CAAmBG,WAAnB,GAAiCxB,QAAjC;;AAEAA,QAAQ,CAACqB,SAAT,CAAmBI,UAAnB,GAAgC,YAAY;AACxC,OAAKC,gBAAL;AAEA,MAAIC,GAAG,GAAG,KAAKd,IAAf;AAAA,MAAqBe,GAAG,GAAG,KAAKd,IAAhC;AACAa,EAAAA,GAAG,CAACC,GAAD,CAAH,GAAW,CAACD,GAAG,CAACC,GAAD,CAAf;AAEA,OAAKC,aAAL,CAAmB,IAAIhC,MAAJ,CAAW,IAAX,EAAiBE,cAAc,CAAC+B,aAAhC,EAA+C,IAA/C,CAAnB;AACH,CAPD;;AASA9B,QAAQ,CAACqB,SAAT,CAAmBJ,cAAnB,GAAoC,YAAY;AAC5C,OAAKQ,UAAL;;AACA,OAAKjB,SAAL;AACH,CAHD;;AAKAR,QAAQ,CAACqB,SAAT,CAAmBU,aAAnB,GAAmC,UAAUC,CAAV,EAAa;AAC5C,MAAIA,CAAC,CAACC,IAAF,CAAOC,MAAP,IAAiB,IAArB,EAA0B;AACtB;AACH;;AACD,OAAKxB,MAAL,CAAYE,WAAZ,CAAwB,SAAxB,EAAmC,KAAKC,IAAL,CAAU,KAAKC,IAAf,CAAnC;AACH,CALD;;AAOAqB,MAAM,CAACC,OAAP,GAAiBpC,QAAjB","sourcesContent":["var ObjectComponent = require('../core/ObjectComponent'),\r\n    Node            = require('../core/document/Node');\r\n\r\nvar Event_         = require('../core/event/Event'),\r\n    NodeEvent      = require('../core/document/NodeEvent'),\r\n    ComponentEvent = require('../core/ComponentEvent');\r\n\r\nfunction Checkbox(parent, object, value, params) {\r\n    ObjectComponent.apply(this,arguments);\r\n\r\n    params = params || {};\r\n    params.onChange = params.onChange || this._onChange;\r\n    this._onChange = params.onChange;\r\n\r\n    var node = this._input = new Node(Node.INPUT_CHECKBOX);\r\n    node.setProperty('checked',this._obj[this._key]);\r\n    node.addEventListener(NodeEvent.CHANGE,this._onInputChange.bind(this));\r\n\r\n    this._wrapNode.addChild(this._input);\r\n}\r\nCheckbox.prototype = Object.create(ObjectComponent.prototype);\r\nCheckbox.prototype.constructor = Checkbox;\r\n\r\nCheckbox.prototype.applyValue = function () {\r\n    this.pushHistoryState();\r\n\r\n    var obj = this._obj, key = this._key;\r\n    obj[key] = !obj[key];\r\n\r\n    this.dispatchEvent(new Event_(this, ComponentEvent.VALUE_UPDATED, null));\r\n};\r\n\r\nCheckbox.prototype._onInputChange = function () {\r\n    this.applyValue();\r\n    this._onChange();\r\n};\r\n\r\nCheckbox.prototype.onValueUpdate = function (e) {\r\n    if (e.data.origin == this){\r\n        return;\r\n    }\r\n    this._input.setProperty('checked', this._obj[this._key]);\r\n};\r\n\r\nmodule.exports = Checkbox;"]},"metadata":{},"sourceType":"script"}