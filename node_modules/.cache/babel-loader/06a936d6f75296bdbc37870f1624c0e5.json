{"ast":null,"code":"var EventDispatcher = require('../core/event/EventDispatcher');\n\nvar ObjectComponentNotifier = require('../core/ObjectComponentNotifier');\n\nvar Event_ = require('../core/event/Event'),\n    OptionEvent = require('../core/OptionEvent'),\n    NodeEvent = require('../core/document/NodeEvent');\n\nvar Node = require('../core/document/Node');\n\nvar CSS = require('../core/document/CSS');\n\nfunction ButtonPreset(parentNode) {\n  EventDispatcher.apply(this);\n  var node = this._btnNode = new Node(Node.INPUT_BUTTON),\n      imgNode = this._indiNode = new Node();\n\n  this._onActive = function () {};\n\n  this._onDeactive = function () {};\n\n  this._isActive = false;\n  node.setStyleClass(CSS.ButtonPreset);\n  node.addEventListener(NodeEvent.MOUSE_DOWN, this._onMouseDown.bind(this));\n  node.addChild(imgNode);\n  parentNode.addChildAt(node, 0);\n  ObjectComponentNotifier.get().addEventListener(OptionEvent.TRIGGER, this, 'onOptionTrigger');\n  this.addEventListener(OptionEvent.TRIGGERED, ObjectComponentNotifier.get(), 'onOptionTriggered');\n}\n\nButtonPreset.prototype = Object.create(EventDispatcher.prototype);\nButtonPreset.prototype.constructor = ButtonPreset;\n\nButtonPreset.prototype.onOptionTrigger = function (e) {\n  if (e.data.origin == this) {\n    if (!this._isActive) {\n      this._onActive();\n\n      this._btnNode.setStyleClass(CSS.ButtonPresetActive);\n\n      this._isActive = true;\n    } else {\n      this._onDeactive();\n    }\n\n    return;\n  }\n\n  if (this._isActive) {\n    this.deactivate();\n  }\n};\n\nButtonPreset.prototype._onMouseDown = function () {\n  this.dispatchEvent(new Event_(this, OptionEvent.TRIGGERED, null));\n};\n\nButtonPreset.prototype.setOnActive = function (func) {\n  this._onActive = func;\n};\n\nButtonPreset.prototype.setOnDeactive = function (func) {\n  this._onDeactive = func;\n};\n\nButtonPreset.prototype.deactivate = function () {\n  this._isActive = false;\n\n  this._btnNode.setStyleClass(CSS.ButtonPreset);\n};\n\nmodule.exports = ButtonPreset;","map":{"version":3,"sources":["/Users/roaa/Desktop/demo/node_modules/@brunoimbrizi/controlkit/lib/component/ButtonPreset.js"],"names":["EventDispatcher","require","ObjectComponentNotifier","Event_","OptionEvent","NodeEvent","Node","CSS","ButtonPreset","parentNode","apply","node","_btnNode","INPUT_BUTTON","imgNode","_indiNode","_onActive","_onDeactive","_isActive","setStyleClass","addEventListener","MOUSE_DOWN","_onMouseDown","bind","addChild","addChildAt","get","TRIGGER","TRIGGERED","prototype","Object","create","constructor","onOptionTrigger","e","data","origin","ButtonPresetActive","deactivate","dispatchEvent","setOnActive","func","setOnDeactive","module","exports"],"mappings":"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","sourcesContent":["var EventDispatcher         = require('../core/event/EventDispatcher');\r\nvar ObjectComponentNotifier = require('../core/ObjectComponentNotifier');\r\n\r\nvar Event_      = require('../core/event/Event'),\r\n    OptionEvent = require('../core/OptionEvent'),\r\n    NodeEvent   = require('../core/document/NodeEvent');\r\n\r\nvar Node = require('../core/document/Node');\r\nvar CSS = require('../core/document/CSS');\r\n\r\nfunction ButtonPreset(parentNode) {\r\n    EventDispatcher.apply(this);\r\n    var node    = this._btnNode = new Node(Node.INPUT_BUTTON),\r\n        imgNode = this._indiNode = new Node();\r\n\r\n    this._onActive = function () {};\r\n    this._onDeactive = function () {};\r\n    this._isActive = false;\r\n\r\n    node.setStyleClass(CSS.ButtonPreset);\r\n    node.addEventListener(NodeEvent.MOUSE_DOWN, this._onMouseDown.bind(this));\r\n\r\n    node.addChild(imgNode);\r\n    parentNode.addChildAt(node, 0);\r\n\r\n    ObjectComponentNotifier.get().addEventListener(OptionEvent.TRIGGER, this, 'onOptionTrigger');\r\n    this.addEventListener(OptionEvent.TRIGGERED, ObjectComponentNotifier.get(), 'onOptionTriggered');\r\n}\r\nButtonPreset.prototype = Object.create(EventDispatcher.prototype);\r\nButtonPreset.prototype.constructor = ButtonPreset;\r\n\r\nButtonPreset.prototype.onOptionTrigger = function(e){\r\n    if(e.data.origin == this){\r\n        if(!this._isActive){\r\n            this._onActive();\r\n            this._btnNode.setStyleClass(CSS.ButtonPresetActive);\r\n            this._isActive = true;\r\n        } else{\r\n            this._onDeactive();\r\n        }\r\n        return;\r\n    }\r\n\r\n    if(this._isActive){\r\n        this.deactivate();\r\n    }\r\n};\r\n\r\nButtonPreset.prototype._onMouseDown = function(){\r\n    this.dispatchEvent(new Event_(this, OptionEvent.TRIGGERED, null));\r\n};\r\n\r\nButtonPreset.prototype.setOnActive = function(func){\r\n    this._onActive = func;\r\n};\r\n\r\nButtonPreset.prototype.setOnDeactive = function(func){\r\n    this._onDeactive = func;\r\n};\r\n\r\nButtonPreset.prototype.deactivate = function(){\r\n    this._isActive = false;\r\n    this._btnNode.setStyleClass(CSS.ButtonPreset);\r\n};\r\n\r\nmodule.exports = ButtonPreset;\r\n"]},"metadata":{},"sourceType":"script"}