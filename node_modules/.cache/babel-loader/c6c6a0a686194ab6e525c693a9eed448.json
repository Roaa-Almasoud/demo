{"ast":null,"code":"var AbstractGroup = require('./AbstractGroup');\n\nvar Node = require('../core/document/Node');\n\nvar CSS = require('../core/document/CSS');\n\nvar Event_ = require('../core/event/Event'),\n    DocumentEvent = require('../core/document/DocumentEvent'),\n    PanelEvent = require('./PanelEvent'),\n    GroupEvent = require('./GroupEvent'),\n    ComponentEvent = require('../core/ComponentEvent');\n\nfunction SubGroup(parent, params) {\n  params = params || {};\n  params.label = params.label || null;\n  params.useLabels = params.useLabels === undefined ? true : params.useLabels;\n  params.enable = params.enable === undefined ? true : params.enable;\n  AbstractGroup.apply(this, arguments);\n  var rootNode = this._node,\n      wrapNode = this._wrapNode,\n      listNode = this._listNode;\n  rootNode.setStyleClass(CSS.SubGroup);\n  wrapNode.setStyleClass(CSS.Wrap);\n  wrapNode.addChild(listNode);\n  rootNode.addChild(wrapNode);\n  this._useLabels = params.useLabels;\n  var label = params.label;\n\n  if (label && label.length != 0 && label != 'none') {\n    var headNode = this._headNode = new Node(),\n        lablWrap = new Node(),\n        lablNode = new Node(Node.SPAN);\n    headNode.setStyleClass(CSS.Head);\n    lablWrap.setStyleClass(CSS.Wrap);\n    lablNode.setStyleClass(CSS.Label);\n    lablNode.setProperty('innerHTML', label);\n    lablWrap.addChild(lablNode);\n    headNode.addChild(lablWrap);\n    var indiNode = this._indiNode = new Node();\n    indiNode.setStyleClass(CSS.ArrowBSubMax);\n    headNode.addChildAt(indiNode, 0);\n    rootNode.addChildAt(headNode, 0);\n    this.addEventListener(GroupEvent.SUBGROUP_TRIGGER, this._parent, 'onSubGroupTrigger');\n    headNode.addEventListener(DocumentEvent.MOUSE_DOWN, this._onHeadMouseDown.bind(this));\n\n    this._updateAppearance();\n  }\n\n  if (this.hasMaxHeight()) {\n    this.addScrollWrap();\n  }\n\n  this._parent.addEventListener(GroupEvent.SUBGROUP_ENABLE, this, 'onEnable');\n\n  this._parent.addEventListener(GroupEvent.SUBGROUP_DISABLE, this, 'onDisable');\n\n  this._parent.addEventListener(PanelEvent.PANEL_MOVE_END, this, 'onPanelMoveEnd');\n\n  this._parent.addEventListener(GroupEvent.GROUP_SIZE_CHANGE, this, 'onGroupSizeChange');\n\n  this._parent.addEventListener(PanelEvent.PANEL_SIZE_CHANGE, this, 'onPanelSizeChange');\n\n  this._parent.addEventListener(DocumentEvent.WINDOW_RESIZE, this, 'onWindowResize');\n\n  this.addEventListener(GroupEvent.GROUP_SIZE_UPDATE, this._parent, 'onGroupSizeUpdate');\n}\n\nSubGroup.prototype = Object.create(AbstractGroup.prototype);\nSubGroup.prototype.constructor = SubGroup; //FIXME\n\nSubGroup.prototype._onHeadMouseDown = function () {\n  this._enabled = !this._enabled;\n\n  this._onTrigger();\n\n  var event = DocumentEvent.MOUSE_UP,\n      self = this;\n\n  var onDocumentMouseUp = function onDocumentMouseUp() {\n    self._onTrigger();\n\n    document.removeEventListener(event, onDocumentMouseUp);\n  };\n\n  document.addEventListener(event, onDocumentMouseUp);\n};\n\nSubGroup.prototype._onTrigger = function () {\n  this._updateAppearance();\n\n  this.dispatchEvent(new Event_(this, GroupEvent.SUBGROUP_TRIGGER, null));\n};\n\nSubGroup.prototype._updateAppearance = function () {\n  if (this.isDisabled()) {\n    this._wrapNode.setHeight(0);\n\n    if (this.hasLabel()) {\n      this._headNode.setStyleClass(CSS.HeadInactive);\n\n      this._indiNode.setStyleClass(CSS.ArrowBSubMin);\n    }\n  } else {\n    if (this.hasMaxHeight()) {\n      this._wrapNode.setHeight(this.getMaxHeight());\n    } else {\n      this._wrapNode.deleteStyleProperty('height');\n    }\n\n    if (this.hasLabel()) {\n      this._headNode.setStyleClass(CSS.Head);\n\n      this._indiNode.setStyleClass(CSS.ArrowBSubMax);\n    }\n  }\n};\n\nSubGroup.prototype.update = function () {\n  if (this.hasMaxHeight()) {\n    this._scrollBar.update();\n  }\n};\n\nSubGroup.prototype.onComponentSelectDrag = function () {\n  this.preventSelectDrag();\n};\n\nSubGroup.prototype.onEnable = function () {\n  if (this.isDisabled()) {\n    return;\n  }\n\n  this.dispatchEvent(new Event_(this, ComponentEvent.ENABLE, null));\n};\n\nSubGroup.prototype.onDisable = function () {\n  if (this.isDisabled()) {\n    return;\n  }\n\n  this.dispatchEvent(new Event_(this, ComponentEvent.DISABLE, null));\n}; //bubble\n\n\nSubGroup.prototype.onGroupSizeChange = function () {\n  this.dispatchEvent(new Event_(this, GroupEvent.GROUP_SIZE_CHANGE, null));\n};\n\nSubGroup.prototype.onGroupSizeUpdate = function () {\n  this.dispatchEvent(new Event_(this, GroupEvent.GROUP_SIZE_UPDATE, null));\n};\n\nSubGroup.prototype.onPanelMoveEnd = function () {\n  this.dispatchEvent(new Event_(this, PanelEvent.PANEL_MOVE_END, null));\n};\n\nSubGroup.prototype.onPanelSizeChange = function () {\n  this._updateAppearance();\n};\n\nSubGroup.prototype.onWindowResize = function (e) {\n  this.dispatchEvent(e);\n};\n\nSubGroup.prototype.hasLabel = function () {\n  return this._headNode != null;\n};\n\nSubGroup.prototype.addComponentNode = function (node) {\n  this._listNode.addChild(node);\n};\n\nSubGroup.prototype.usesLabels = function () {\n  return this._useLabels;\n};\n\nmodule.exports = SubGroup;","map":{"version":3,"sources":["/Users/roaa/Desktop/demo/node_modules/@brunoimbrizi/controlkit/lib/group/SubGroup.js"],"names":["AbstractGroup","require","Node","CSS","Event_","DocumentEvent","PanelEvent","GroupEvent","ComponentEvent","SubGroup","parent","params","label","useLabels","undefined","enable","apply","arguments","rootNode","_node","wrapNode","_wrapNode","listNode","_listNode","setStyleClass","Wrap","addChild","_useLabels","length","headNode","_headNode","lablWrap","lablNode","SPAN","Head","Label","setProperty","indiNode","_indiNode","ArrowBSubMax","addChildAt","addEventListener","SUBGROUP_TRIGGER","_parent","MOUSE_DOWN","_onHeadMouseDown","bind","_updateAppearance","hasMaxHeight","addScrollWrap","SUBGROUP_ENABLE","SUBGROUP_DISABLE","PANEL_MOVE_END","GROUP_SIZE_CHANGE","PANEL_SIZE_CHANGE","WINDOW_RESIZE","GROUP_SIZE_UPDATE","prototype","Object","create","constructor","_enabled","_onTrigger","event","MOUSE_UP","self","onDocumentMouseUp","document","removeEventListener","dispatchEvent","isDisabled","setHeight","hasLabel","HeadInactive","ArrowBSubMin","getMaxHeight","deleteStyleProperty","update","_scrollBar","onComponentSelectDrag","preventSelectDrag","onEnable","ENABLE","onDisable","DISABLE","onGroupSizeChange","onGroupSizeUpdate","onPanelMoveEnd","onPanelSizeChange","onWindowResize","e","addComponentNode","node","usesLabels","module","exports"],"mappings":"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","sourcesContent":["var AbstractGroup = require('./AbstractGroup');\r\nvar Node = require('../core/document/Node');\r\nvar CSS  = require('../core/document/CSS');\r\n\r\nvar Event_         = require('../core/event/Event'),\r\n    DocumentEvent  = require('../core/document/DocumentEvent'),\r\n    PanelEvent     = require('./PanelEvent'),\r\n    GroupEvent     = require('./GroupEvent'),\r\n    ComponentEvent = require('../core/ComponentEvent');\r\n\r\nfunction SubGroup(parent,params){\r\n    params            = params          || {};\r\n    params.label      = params.label    || null;\r\n    params.useLabels  = params.useLabels  === undefined ? true : params.useLabels;\r\n    params.enable     = params.enable     === undefined ? true : params.enable;\r\n\r\n    AbstractGroup.apply(this,arguments);\r\n\r\n    var rootNode = this._node,\r\n        wrapNode = this._wrapNode,\r\n        listNode = this._listNode;\r\n\r\n        rootNode.setStyleClass(CSS.SubGroup);\r\n        wrapNode.setStyleClass(CSS.Wrap);\r\n\r\n        wrapNode.addChild(listNode);\r\n        rootNode.addChild(wrapNode);\r\n\r\n    this._useLabels  = params.useLabels;\r\n\r\n    var label = params.label;\r\n\r\n    if (label && label.length != 0 && label != 'none') {\r\n        var headNode = this._headNode = new Node(),\r\n            lablWrap = new Node(),\r\n            lablNode = new Node(Node.SPAN);\r\n\r\n        headNode.setStyleClass(CSS.Head);\r\n        lablWrap.setStyleClass(CSS.Wrap);\r\n        lablNode.setStyleClass(CSS.Label);\r\n\r\n        lablNode.setProperty('innerHTML', label);\r\n\r\n        lablWrap.addChild(lablNode);\r\n        headNode.addChild(lablWrap);\r\n\r\n\r\n        var indiNode = this._indiNode = new Node();\r\n        indiNode.setStyleClass(CSS.ArrowBSubMax);\r\n        headNode.addChildAt(indiNode, 0);\r\n\r\n        rootNode.addChildAt(headNode, 0);\r\n\r\n        this.addEventListener(GroupEvent.SUBGROUP_TRIGGER, this._parent, 'onSubGroupTrigger');\r\n        headNode.addEventListener(DocumentEvent.MOUSE_DOWN, this._onHeadMouseDown.bind(this));\r\n\r\n        this._updateAppearance();\r\n\r\n    }\r\n\r\n    if(this.hasMaxHeight()){\r\n        this.addScrollWrap();\r\n    }\r\n\r\n    this._parent.addEventListener(GroupEvent.SUBGROUP_ENABLE,  this, 'onEnable');\r\n    this._parent.addEventListener(GroupEvent.SUBGROUP_DISABLE, this, 'onDisable');\r\n    this._parent.addEventListener(PanelEvent.PANEL_MOVE_END,   this, 'onPanelMoveEnd');\r\n    this._parent.addEventListener(GroupEvent.GROUP_SIZE_CHANGE,this, 'onGroupSizeChange');\r\n    this._parent.addEventListener(PanelEvent.PANEL_SIZE_CHANGE,this, 'onPanelSizeChange');\r\n    this._parent.addEventListener(DocumentEvent.WINDOW_RESIZE,    this, 'onWindowResize');\r\n\r\n    this.addEventListener(GroupEvent.GROUP_SIZE_UPDATE,this._parent,'onGroupSizeUpdate');\r\n}\r\nSubGroup.prototype = Object.create(AbstractGroup.prototype);\r\nSubGroup.prototype.constructor = SubGroup;\r\n\r\n//FIXME\r\nSubGroup.prototype._onHeadMouseDown = function () {\r\n    this._enabled = !this._enabled;\r\n    this._onTrigger();\r\n\r\n    var event = DocumentEvent.MOUSE_UP,\r\n        self  = this;\r\n    var onDocumentMouseUp = function () {\r\n        self._onTrigger();\r\n        document.removeEventListener(event, onDocumentMouseUp);\r\n    };\r\n\r\n    document.addEventListener(event,onDocumentMouseUp);\r\n};\r\n\r\nSubGroup.prototype._onTrigger = function() {\r\n    this._updateAppearance();\r\n    this.dispatchEvent(new Event_(this,GroupEvent.SUBGROUP_TRIGGER,null));\r\n};\r\n\r\n\r\nSubGroup.prototype._updateAppearance = function () {\r\n    if (this.isDisabled()) {\r\n        this._wrapNode.setHeight(0);\r\n        if (this.hasLabel()) {\r\n            this._headNode.setStyleClass(CSS.HeadInactive);\r\n            this._indiNode.setStyleClass(CSS.ArrowBSubMin);\r\n        }\r\n    }\r\n    else {\r\n        if (this.hasMaxHeight()) {\r\n            this._wrapNode.setHeight(this.getMaxHeight());\r\n        } else {\r\n            this._wrapNode.deleteStyleProperty('height');\r\n        }\r\n        if (this.hasLabel()) {\r\n            this._headNode.setStyleClass(CSS.Head);\r\n            this._indiNode.setStyleClass(CSS.ArrowBSubMax);\r\n        }\r\n    }\r\n};\r\n\r\nSubGroup.prototype.update = function () {\r\n    if (this.hasMaxHeight()){\r\n        this._scrollBar.update();\r\n    }\r\n};\r\n\r\nSubGroup.prototype.onComponentSelectDrag = function () {\r\n    this.preventSelectDrag();\r\n};\r\n\r\nSubGroup.prototype.onEnable = function () {\r\n    if (this.isDisabled()){\r\n        return;\r\n    }\r\n    this.dispatchEvent(new Event_(this, ComponentEvent.ENABLE, null));\r\n};\r\nSubGroup.prototype.onDisable = function () {\r\n    if (this.isDisabled()){\r\n        return;\r\n    }\r\n    this.dispatchEvent(new Event_(this, ComponentEvent.DISABLE, null));\r\n};\r\n\r\n//bubble\r\nSubGroup.prototype.onGroupSizeChange = function () {\r\n    this.dispatchEvent(new Event_(this, GroupEvent.GROUP_SIZE_CHANGE, null));\r\n};\r\nSubGroup.prototype.onGroupSizeUpdate = function () {\r\n    this.dispatchEvent(new Event_(this, GroupEvent.GROUP_SIZE_UPDATE, null));\r\n};\r\nSubGroup.prototype.onPanelMoveEnd = function () {\r\n    this.dispatchEvent(new Event_(this, PanelEvent.PANEL_MOVE_END, null));\r\n};\r\nSubGroup.prototype.onPanelSizeChange = function () {\r\n    this._updateAppearance();\r\n};\r\nSubGroup.prototype.onWindowResize = function (e) {\r\n    this.dispatchEvent(e);\r\n};\r\n\r\nSubGroup.prototype.hasLabel = function () {\r\n    return this._headNode != null;\r\n};\r\nSubGroup.prototype.addComponentNode = function (node) {\r\n    this._listNode.addChild(node);\r\n};\r\nSubGroup.prototype.usesLabels = function () {\r\n    return this._useLabels;\r\n};\r\n\r\nmodule.exports = SubGroup;"]},"metadata":{},"sourceType":"script"}