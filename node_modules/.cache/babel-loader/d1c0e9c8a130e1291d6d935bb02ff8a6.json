{"ast":null,"code":"var History = require('./History');\n\nvar Component = require('./Component'),\n    ComponentEvent = require('./ComponentEvent'),\n    ObjectComponentNotifier = require('./ObjectComponentNotifier'),\n    ComponentObjectError = require('./ComponentObjectError');\n\nvar Event_ = require('./event/Event');\n\nfunction ObjectComponent(parent, obj, key, params) {\n  if (obj[key] === undefined) {\n    throw new ComponentObjectError(obj, key);\n  }\n\n  params = params || {};\n  params.label = params.label || key;\n  Component.apply(this, [parent, params.label]);\n  this._obj = obj;\n  this._key = key;\n\n  this._onChange = function () {};\n\n  ObjectComponentNotifier.get().addEventListener(ComponentEvent.UPDATE_VALUE, this, 'onValueUpdate');\n  this.addEventListener(ComponentEvent.VALUE_UPDATED, ObjectComponentNotifier.get(), 'onValueUpdated');\n}\n\nObjectComponent.prototype = Object.create(Component.prototype);\nObjectComponent.prototype.constructor = ObjectComponent; //Override in Subclass\n\nObjectComponent.prototype.applyValue = function () {};\n\nObjectComponent.prototype.onValueUpdate = function (e) {};\n\nObjectComponent.prototype.pushHistoryState = function () {\n  var obj = this._obj,\n      key = this._key;\n  History.get().pushState(obj, key, obj[key]);\n};\n\nObjectComponent.prototype.setValue = function (value) {\n  this._obj[this._key] = value;\n  this.dispatchEvent(new Event_(this, ComponentEvent.VALUE_UPDATED, null));\n};\n\nObjectComponent.prototype.getData = function () {\n  var obj = {};\n  obj[this._key] = this._obj[this._key];\n  return obj;\n};\n\nmodule.exports = ObjectComponent;","map":{"version":3,"sources":["/Users/roaa/Desktop/demo/node_modules/@brunoimbrizi/controlkit/lib/core/ObjectComponent.js"],"names":["History","require","Component","ComponentEvent","ObjectComponentNotifier","ComponentObjectError","Event_","ObjectComponent","parent","obj","key","params","undefined","label","apply","_obj","_key","_onChange","get","addEventListener","UPDATE_VALUE","VALUE_UPDATED","prototype","Object","create","constructor","applyValue","onValueUpdate","e","pushHistoryState","pushState","setValue","value","dispatchEvent","getData","module","exports"],"mappings":"AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,WAAD,CAArB;;AACA,IAAIC,SAAS,GAAGD,OAAO,CAAC,aAAD,CAAvB;AAAA,IACIE,cAAc,GAAGF,OAAO,CAAC,kBAAD,CAD5B;AAAA,IAEIG,uBAAuB,GAAGH,OAAO,CAAC,2BAAD,CAFrC;AAAA,IAGII,oBAAoB,GAAGJ,OAAO,CAAC,wBAAD,CAHlC;;AAIA,IAAIK,MAAM,GAAGL,OAAO,CAAC,eAAD,CAApB;;AAEA,SAASM,eAAT,CAAyBC,MAAzB,EAAiCC,GAAjC,EAAsCC,GAAtC,EAA2CC,MAA3C,EAAmD;AAC/C,MAAIF,GAAG,CAACC,GAAD,CAAH,KAAaE,SAAjB,EAA4B;AACxB,UAAM,IAAIP,oBAAJ,CAAyBI,GAAzB,EAA8BC,GAA9B,CAAN;AACH;;AACDC,EAAAA,MAAM,GAAGA,MAAM,IAAI,EAAnB;AACAA,EAAAA,MAAM,CAACE,KAAP,GAAeF,MAAM,CAACE,KAAP,IAAgBH,GAA/B;AAEAR,EAAAA,SAAS,CAACY,KAAV,CAAgB,IAAhB,EAAsB,CAACN,MAAD,EAASG,MAAM,CAACE,KAAhB,CAAtB;AAEA,OAAKE,IAAL,GAAYN,GAAZ;AACA,OAAKO,IAAL,GAAYN,GAAZ;;AACA,OAAKO,SAAL,GAAiB,YAAU,CAAE,CAA7B;;AAEAb,EAAAA,uBAAuB,CAACc,GAAxB,GAA8BC,gBAA9B,CAA+ChB,cAAc,CAACiB,YAA9D,EAA4E,IAA5E,EAAkF,eAAlF;AACA,OAAKD,gBAAL,CAAsBhB,cAAc,CAACkB,aAArC,EAAoDjB,uBAAuB,CAACc,GAAxB,EAApD,EAAmF,gBAAnF;AACH;;AACDX,eAAe,CAACe,SAAhB,GAA4BC,MAAM,CAACC,MAAP,CAActB,SAAS,CAACoB,SAAxB,CAA5B;AACAf,eAAe,CAACe,SAAhB,CAA0BG,WAA1B,GAAwClB,eAAxC,C,CAEA;;AACAA,eAAe,CAACe,SAAhB,CAA0BI,UAA1B,GAAuC,YAAW,CAAE,CAApD;;AACAnB,eAAe,CAACe,SAAhB,CAA0BK,aAA1B,GAA0C,UAAUC,CAAV,EAAa,CAAE,CAAzD;;AAEArB,eAAe,CAACe,SAAhB,CAA0BO,gBAA1B,GAA6C,YAAY;AACrD,MAAIpB,GAAG,GAAG,KAAKM,IAAf;AAAA,MAAqBL,GAAG,GAAG,KAAKM,IAAhC;AACAhB,EAAAA,OAAO,CAACkB,GAAR,GAAcY,SAAd,CAAwBrB,GAAxB,EAA6BC,GAA7B,EAAkCD,GAAG,CAACC,GAAD,CAArC;AACH,CAHD;;AAKAH,eAAe,CAACe,SAAhB,CAA0BS,QAA1B,GAAqC,UAAUC,KAAV,EAAiB;AAClD,OAAKjB,IAAL,CAAU,KAAKC,IAAf,IAAuBgB,KAAvB;AACA,OAAKC,aAAL,CAAmB,IAAI3B,MAAJ,CAAW,IAAX,EAAgBH,cAAc,CAACkB,aAA/B,EAA6C,IAA7C,CAAnB;AACH,CAHD;;AAKAd,eAAe,CAACe,SAAhB,CAA0BY,OAA1B,GAAoC,YAAU;AAC1C,MAAIzB,GAAG,GAAG,EAAV;AACIA,EAAAA,GAAG,CAAC,KAAKO,IAAN,CAAH,GAAiB,KAAKD,IAAL,CAAU,KAAKC,IAAf,CAAjB;AACJ,SAAOP,GAAP;AACH,CAJD;;AAMA0B,MAAM,CAACC,OAAP,GAAiB7B,eAAjB","sourcesContent":["var History = require('./History');\r\nvar Component = require('./Component'),\r\n    ComponentEvent = require('./ComponentEvent'),\r\n    ObjectComponentNotifier = require('./ObjectComponentNotifier'),\r\n    ComponentObjectError = require('./ComponentObjectError');\r\nvar Event_ = require('./event/Event');\r\n\r\nfunction ObjectComponent(parent, obj, key, params) {\r\n    if (obj[key] === undefined) {\r\n        throw new ComponentObjectError(obj, key);\r\n    }\r\n    params = params || {};\r\n    params.label = params.label || key;\r\n\r\n    Component.apply(this, [parent, params.label]);\r\n\r\n    this._obj = obj;\r\n    this._key = key;\r\n    this._onChange = function(){};\r\n\r\n    ObjectComponentNotifier.get().addEventListener(ComponentEvent.UPDATE_VALUE, this, 'onValueUpdate');\r\n    this.addEventListener(ComponentEvent.VALUE_UPDATED, ObjectComponentNotifier.get(), 'onValueUpdated');\r\n}\r\nObjectComponent.prototype = Object.create(Component.prototype);\r\nObjectComponent.prototype.constructor = ObjectComponent;\r\n\r\n//Override in Subclass\r\nObjectComponent.prototype.applyValue = function() {};\r\nObjectComponent.prototype.onValueUpdate = function (e) {};\r\n\r\nObjectComponent.prototype.pushHistoryState = function () {\r\n    var obj = this._obj, key = this._key;\r\n    History.get().pushState(obj, key, obj[key]);\r\n};\r\n\r\nObjectComponent.prototype.setValue = function (value) {\r\n    this._obj[this._key] = value;\r\n    this.dispatchEvent(new Event_(this,ComponentEvent.VALUE_UPDATED,null));\r\n};\r\n\r\nObjectComponent.prototype.getData = function(){\r\n    var obj = {};\r\n        obj[this._key] = this._obj[this._key];\r\n    return obj;\r\n};\r\n\r\nmodule.exports = ObjectComponent;\r\n"]},"metadata":{},"sourceType":"script"}