{"ast":null,"code":"import _classCallCheck from\"/Users/roaa/Desktop/demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/roaa/Desktop/demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import ControlKit from'@brunoimbrizi/controlkit';import Stats from'stats.js';var GUIView=/*#__PURE__*/function(){function GUIView(app){_classCallCheck(this,GUIView);this.app=app;this.particlesHitArea=false;this.particlesRandom=2;this.particlesDepth=4;this.particlesSize=1.5;this.touchRadius=0.15;this.range=[0,1];this.rangeRandom=[1,10];this.rangeSize=[0,3];this.rangeDepth=[1,10];this.rangeRadius=[0,0.5];this.initControlKit();// this.initStats();\n// this.disable();\n}_createClass(GUIView,[{key:\"initControlKit\",value:function initControlKit(){this.controlKit=new ControlKit();this.controlKit.addPanel({width:300,enable:false}).addGroup({label:'Touch',enable:true}).addCanvas({label:'trail',height:64}).addSlider(this,'touchRadius','rangeRadius',{label:'radius',onChange:this.onTouchChange.bind(this)}).addGroup({label:'Particles',enable:true})// .addCheckbox(this, 'particlesHitArea', { label: 'hit area', onChange: this.onParticlesChange.bind(this) })\n.addSlider(this,'particlesRandom','rangeRandom',{label:'random',onChange:this.onParticlesChange.bind(this)}).addSlider(this,'particlesDepth','rangeDepth',{label:'depth',onChange:this.onParticlesChange.bind(this)}).addSlider(this,'particlesSize','rangeSize',{label:'size',onChange:this.onParticlesChange.bind(this)});// store reference to canvas\nvar component=this.controlKit.getComponentBy({label:'trail'});if(!component)return;this.touchCanvas=component._canvas;this.touchCtx=this.touchCanvas.getContext('2d');}},{key:\"initStats\",value:function initStats(){this.stats=new Stats();document.body.appendChild(this.stats.dom);}// ---------------------------------------------------------------------------------------------\n// PUBLIC\n// ---------------------------------------------------------------------------------------------\n},{key:\"update\",value:function update(){// draw touch texture\nif(this.touchCanvas){if(!this.app.webgl)return;if(!this.app.webgl.particles)return;if(!this.app.webgl.particles.touch)return;var source=this.app.webgl.particles.touch.canvas;var x=Math.floor((this.touchCanvas.width-source.width)*0.5);this.touchCtx.fillRect(0,0,this.touchCanvas.width,this.touchCanvas.height);this.touchCtx.drawImage(source,x,0);}}},{key:\"enable\",value:function enable(){this.controlKit.enable();if(this.stats)this.stats.dom.style.display='';}},{key:\"disable\",value:function disable(){this.controlKit.disable();if(this.stats)this.stats.dom.style.display='none';}},{key:\"toggle\",value:function toggle(){if(this.controlKit._enabled)this.disable();else this.enable();}},{key:\"onTouchChange\",value:function onTouchChange(){if(!this.app.webgl)return;if(!this.app.webgl.particles)return;this.app.webgl.particles.touch.radius=this.touchRadius;}},{key:\"onParticlesChange\",value:function onParticlesChange(){if(!this.app.webgl)return;if(!this.app.webgl.particles)return;this.app.webgl.particles.object3D.material.uniforms.uRandom.value=this.particlesRandom;this.app.webgl.particles.object3D.material.uniforms.uDepth.value=this.particlesDepth;this.app.webgl.particles.object3D.material.uniforms.uSize.value=this.particlesSize;this.app.webgl.particles.hitArea.material.visible=this.particlesHitArea;}},{key:\"onPostProcessingChange\",value:function onPostProcessingChange(){if(!this.app.webgl.composer)return;this.app.webgl.composer.enabled=this.postProcessing;}}]);return GUIView;}();export{GUIView as default};","map":{"version":3,"sources":["/Users/roaa/Desktop/demo/src/scripts/gui/GUIView.js"],"names":["ControlKit","Stats","GUIView","app","particlesHitArea","particlesRandom","particlesDepth","particlesSize","touchRadius","range","rangeRandom","rangeSize","rangeDepth","rangeRadius","initControlKit","controlKit","addPanel","width","enable","addGroup","label","addCanvas","height","addSlider","onChange","onTouchChange","bind","onParticlesChange","component","getComponentBy","touchCanvas","_canvas","touchCtx","getContext","stats","document","body","appendChild","dom","webgl","particles","touch","source","canvas","x","Math","floor","fillRect","drawImage","style","display","disable","_enabled","radius","object3D","material","uniforms","uRandom","value","uDepth","uSize","hitArea","visible","composer","enabled","postProcessing"],"mappings":"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","sourcesContent":["import ControlKit from '@brunoimbrizi/controlkit';\nimport Stats from 'stats.js';\n\nexport default class GUIView {\n\n\tconstructor(app) {\n\t\tthis.app = app;\n\n\t\tthis.particlesHitArea = false;\n\t\tthis.particlesRandom = 2;\n\t\tthis.particlesDepth = 4;\n\t\tthis.particlesSize = 1.5;\n\t\t\n\t\tthis.touchRadius = 0.15;\n\n\t\tthis.range = [0, 1];\n\t\tthis.rangeRandom = [1, 10];\n\t\tthis.rangeSize = [0, 3];\n\t\tthis.rangeDepth = [1, 10];\n\t\tthis.rangeRadius = [0, 0.5];\n\n\t\tthis.initControlKit();\n\t\t// this.initStats();\n\n\t\t// this.disable();\n\t}\n\n\tinitControlKit() {\n\t\tthis.controlKit = new ControlKit();\n\t\tthis.controlKit.addPanel({ width: 300, enable: false })\n\n\t\t.addGroup({label: 'Touch', enable: true })\n\t\t.addCanvas({ label: 'trail', height: 64 })\n\t\t.addSlider(this, 'touchRadius', 'rangeRadius', { label: 'radius', onChange: this.onTouchChange.bind(this) })\n\t\t\n\t\t.addGroup({label: 'Particles', enable: true })\n\t\t// .addCheckbox(this, 'particlesHitArea', { label: 'hit area', onChange: this.onParticlesChange.bind(this) })\n\t\t.addSlider(this, 'particlesRandom', 'rangeRandom', { label: 'random', onChange: this.onParticlesChange.bind(this) })\n\t\t.addSlider(this, 'particlesDepth', 'rangeDepth', { label: 'depth', onChange: this.onParticlesChange.bind(this) })\n\t\t.addSlider(this, 'particlesSize', 'rangeSize', { label: 'size', onChange: this.onParticlesChange.bind(this) })\n\n\t\t// store reference to canvas\n\t\tconst component = this.controlKit.getComponentBy({ label: 'trail' });\n\t\tif (!component) return;\n\n\t\tthis.touchCanvas = component._canvas;\n\t\tthis.touchCtx = this.touchCanvas.getContext('2d');\n\t}\n\n\tinitStats() {\n\t\tthis.stats = new Stats();\n\n\t\tdocument.body.appendChild(this.stats.dom);\n\t}\n\n\t// ---------------------------------------------------------------------------------------------\n\t// PUBLIC\n\t// ---------------------------------------------------------------------------------------------\n\n\tupdate() {\n\t\t// draw touch texture\n\t\tif (this.touchCanvas) {\n\t\t\tif (!this.app.webgl) return;\n\t\t\tif (!this.app.webgl.particles) return;\n\t\t\tif (!this.app.webgl.particles.touch) return;\n\t\t\tconst source = this.app.webgl.particles.touch.canvas;\n\t\t\tconst x = Math.floor((this.touchCanvas.width - source.width) * 0.5);\n\t\t\tthis.touchCtx.fillRect(0, 0, this.touchCanvas.width, this.touchCanvas.height);\n\t\t\tthis.touchCtx.drawImage(source, x, 0);\n\t\t}\n\t}\n\n\tenable() {\n\t\tthis.controlKit.enable();\n\t\tif (this.stats) this.stats.dom.style.display = '';\n\t}\n\n\tdisable() {\n\t\tthis.controlKit.disable();\n\t\tif (this.stats) this.stats.dom.style.display = 'none';\n\t}\n\n\ttoggle() {\n\t\tif (this.controlKit._enabled) this.disable();\n\t\telse this.enable();\n\t}\n\n\tonTouchChange() {\n\t\tif (!this.app.webgl) return;\n\t\tif (!this.app.webgl.particles) return;\n\n\t\tthis.app.webgl.particles.touch.radius = this.touchRadius;\n\t}\n\t\n\tonParticlesChange() {\n\t\tif (!this.app.webgl) return;\n\t\tif (!this.app.webgl.particles) return;\n\n\t\tthis.app.webgl.particles.object3D.material.uniforms.uRandom.value = this.particlesRandom;\n\t\tthis.app.webgl.particles.object3D.material.uniforms.uDepth.value = this.particlesDepth;\n\t\tthis.app.webgl.particles.object3D.material.uniforms.uSize.value = this.particlesSize;\n\n\t\tthis.app.webgl.particles.hitArea.material.visible = this.particlesHitArea;\n\t}\n\n\tonPostProcessingChange() {\n\t\tif (!this.app.webgl.composer) return;\n\t\tthis.app.webgl.composer.enabled = this.postProcessing;\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}