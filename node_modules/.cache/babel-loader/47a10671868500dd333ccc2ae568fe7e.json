{"ast":null,"code":"var Output = require('./Output');\n\nvar DEFAULT_OUTPUT_DP = 2;\n\nfunction NumberOutput(parent, object, value, params) {\n  params = params || {};\n  params.dp = params.dp || DEFAULT_OUTPUT_DP;\n  Output.apply(this, arguments);\n  this._valueDp = params.dp + 1;\n}\n\nNumberOutput.prototype = Object.create(Output.prototype);\nNumberOutput.prototype.constructor = NumberOutput; //FIXME\n\nNumberOutput.prototype._setValue = function () {\n  if (this._parent.isDisabled()) {\n    return;\n  }\n\n  var value = this._obj[this._key],\n      textArea = this._textArea,\n      dp = this._valueDp;\n  var index, out;\n\n  if (typeof value === 'object' && typeof value.length === 'number' && typeof value.splice === 'function' && !value.propertyIsEnumerable('length')) {\n    out = value.slice();\n    var i = -1;\n    var temp;\n    var wrap = this._wrap;\n\n    while (++i < out.length) {\n      temp = out[i] = out[i].toString();\n      index = temp.indexOf('.');\n\n      if (index > 0) {\n        out[i] = temp.slice(0, index + dp);\n      }\n    }\n\n    if (wrap) {\n      textArea.setStyleProperty('white-space', 'nowrap');\n      out = out.join('\\n');\n    }\n\n    textArea.setProperty('value', out);\n  } else {\n    out = value.toString();\n    index = out.indexOf('.');\n    textArea.setProperty('value', index > 0 ? out.slice(0, index + dp) : out);\n  }\n};\n\nmodule.exports = NumberOutput;","map":{"version":3,"sources":["/Users/roaa/Desktop/demo/node_modules/@brunoimbrizi/controlkit/lib/component/NumberOutput.js"],"names":["Output","require","DEFAULT_OUTPUT_DP","NumberOutput","parent","object","value","params","dp","apply","arguments","_valueDp","prototype","Object","create","constructor","_setValue","_parent","isDisabled","_obj","_key","textArea","_textArea","index","out","length","splice","propertyIsEnumerable","slice","i","temp","wrap","_wrap","toString","indexOf","setStyleProperty","join","setProperty","module","exports"],"mappings":"AAAA,IAAIA,MAAM,GAAGC,OAAO,CAAC,UAAD,CAApB;;AAEA,IAAIC,iBAAiB,GAAG,CAAxB;;AAEA,SAASC,YAAT,CAAsBC,MAAtB,EAA8BC,MAA9B,EAAsCC,KAAtC,EAA6CC,MAA7C,EAAqD;AACpDA,EAAAA,MAAM,GAAGA,MAAM,IAAI,EAAnB;AACAA,EAAAA,MAAM,CAACC,EAAP,GAAYD,MAAM,CAACC,EAAP,IAAaN,iBAAzB;AAEAF,EAAAA,MAAM,CAACS,KAAP,CAAa,IAAb,EAAmBC,SAAnB;AACA,OAAKC,QAAL,GAAgBJ,MAAM,CAACC,EAAP,GAAY,CAA5B;AACA;;AACDL,YAAY,CAACS,SAAb,GAAyBC,MAAM,CAACC,MAAP,CAAcd,MAAM,CAACY,SAArB,CAAzB;AACAT,YAAY,CAACS,SAAb,CAAuBG,WAAvB,GAAqCZ,YAArC,C,CAEA;;AACAA,YAAY,CAACS,SAAb,CAAuBI,SAAvB,GAAmC,YAAY;AAC9C,MAAI,KAAKC,OAAL,CAAaC,UAAb,EAAJ,EAA8B;AAC7B;AACA;;AAED,MAAIZ,KAAK,GAAG,KAAKa,IAAL,CAAU,KAAKC,IAAf,CAAZ;AAAA,MACCC,QAAQ,GAAG,KAAKC,SADjB;AAAA,MAECd,EAAE,GAAG,KAAKG,QAFX;AAIA,MAAIY,KAAJ,EACCC,GADD;;AAGA,MAAI,OAAOlB,KAAP,KAAkB,QAAlB,IACH,OAAOA,KAAK,CAACmB,MAAb,KAAyB,QADtB,IAEH,OAAOnB,KAAK,CAACoB,MAAb,KAAyB,UAFtB,IAGH,CAACpB,KAAK,CAACqB,oBAAN,CAA2B,QAA3B,CAHF,EAGwC;AAEvCH,IAAAA,GAAG,GAAGlB,KAAK,CAACsB,KAAN,EAAN;AAEA,QAAIC,CAAC,GAAG,CAAC,CAAT;AACA,QAAIC,IAAJ;AACA,QAAIC,IAAI,GAAG,KAAKC,KAAhB;;AAEA,WAAO,EAAEH,CAAF,GAAML,GAAG,CAACC,MAAjB,EAAyB;AACxBK,MAAAA,IAAI,GAAGN,GAAG,CAACK,CAAD,CAAH,GAASL,GAAG,CAACK,CAAD,CAAH,CAAOI,QAAP,EAAhB;AACAV,MAAAA,KAAK,GAAGO,IAAI,CAACI,OAAL,CAAa,GAAb,CAAR;;AACA,UAAIX,KAAK,GAAG,CAAZ,EAAc;AACbC,QAAAA,GAAG,CAACK,CAAD,CAAH,GAASC,IAAI,CAACF,KAAL,CAAW,CAAX,EAAcL,KAAK,GAAGf,EAAtB,CAAT;AACA;AACD;;AAED,QAAIuB,IAAJ,EAAU;AACTV,MAAAA,QAAQ,CAACc,gBAAT,CAA0B,aAA1B,EAAyC,QAAzC;AACAX,MAAAA,GAAG,GAAGA,GAAG,CAACY,IAAJ,CAAS,IAAT,CAAN;AACA;;AAEDf,IAAAA,QAAQ,CAACgB,WAAT,CAAqB,OAArB,EAA8Bb,GAA9B;AACA,GAzBD,MAyBM;AACLA,IAAAA,GAAG,GAAGlB,KAAK,CAAC2B,QAAN,EAAN;AACAV,IAAAA,KAAK,GAAGC,GAAG,CAACU,OAAJ,CAAY,GAAZ,CAAR;AACAb,IAAAA,QAAQ,CAACgB,WAAT,CAAqB,OAArB,EAA8Bd,KAAK,GAAG,CAAR,GAAYC,GAAG,CAACI,KAAJ,CAAU,CAAV,EAAaL,KAAK,GAAGf,EAArB,CAAZ,GAAuCgB,GAArE;AACA;AAED,CA3CD;;AA6CAc,MAAM,CAACC,OAAP,GAAiBpC,YAAjB","sourcesContent":["var Output = require('./Output');\r\n\r\nvar DEFAULT_OUTPUT_DP = 2;\r\n\r\nfunction NumberOutput(parent, object, value, params) {\r\n\tparams = params || {};\r\n\tparams.dp = params.dp || DEFAULT_OUTPUT_DP;\r\n\r\n\tOutput.apply(this, arguments);\r\n\tthis._valueDp = params.dp + 1;\r\n}\r\nNumberOutput.prototype = Object.create(Output.prototype);\r\nNumberOutput.prototype.constructor = NumberOutput;\r\n\r\n//FIXME\r\nNumberOutput.prototype._setValue = function () {\r\n\tif (this._parent.isDisabled()){\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar value = this._obj[this._key],\r\n\t\ttextArea = this._textArea,\r\n\t\tdp = this._valueDp;\r\n\r\n\tvar index,\r\n\t\tout;\r\n\r\n\tif (typeof(value) === 'object' &&\r\n\t\ttypeof(value.length) === 'number' &&\r\n\t\ttypeof(value.splice) === 'function' &&\r\n\t\t!value.propertyIsEnumerable('length')) {\r\n\r\n\t\tout = value.slice();\r\n\r\n\t\tvar i = -1;\r\n\t\tvar temp;\r\n\t\tvar wrap = this._wrap;\r\n\r\n\t\twhile (++i < out.length) {\r\n\t\t\ttemp = out[i] = out[i].toString();\r\n\t\t\tindex = temp.indexOf('.');\r\n\t\t\tif (index > 0){\r\n\t\t\t\tout[i] = temp.slice(0, index + dp);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (wrap) {\r\n\t\t\ttextArea.setStyleProperty('white-space', 'nowrap');\r\n\t\t\tout = out.join('\\n');\r\n\t\t}\r\n\r\n\t\ttextArea.setProperty('value', out);\r\n\t}else {\r\n\t\tout = value.toString();\r\n\t\tindex = out.indexOf('.');\r\n\t\ttextArea.setProperty('value', index > 0 ? out.slice(0, index + dp) : out);\r\n\t}\r\n\r\n};\r\n\r\nmodule.exports = NumberOutput;"]},"metadata":{},"sourceType":"script"}