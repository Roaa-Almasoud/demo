{"ast":null,"code":"var EventDispatcher = require('../event/EventDispatcher'),\n    Event_ = require('../event/Event'),\n    DocumentEvent = require('./DocumentEvent');\n\nvar instance = null;\n\nfunction Mouse() {\n  EventDispatcher.apply(this);\n  this._pos = [0, 0];\n  this._wheelDirection = 0;\n  this._hoverElement = null;\n  var self = this;\n\n  this._onDocumentMouseMove = function (e) {\n    var dx = 0,\n        dy = 0;\n    if (!e) e = window.event;\n\n    if (e.pageX) {\n      dx = e.pageX;\n      dy = e.pageY;\n    } else if (e.clientX) {\n      dx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n      dy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n    }\n\n    self._pos[0] = dx;\n    self._pos[1] = dy;\n    self._hoverElement = document.elementFromPoint(dx, dy);\n  };\n\n  this._onDocumentMouseWheel = function (event) {\n    self._wheelDirection = event.detail < 0 ? 1 : event.wheelDelta > 0 ? 1 : -1;\n    self.dispatchEvent(new Event_(self, DocumentEvent.MOUSE_WHEEL, event));\n  };\n\n  document.addEventListener(DocumentEvent.MOUSE_MOVE, this._onDocumentMouseMove);\n  document.addEventListener(DocumentEvent.MOUSE_WHEEL, this._onDocumentMouseWheel);\n}\n\nMouse.prototype = Object.create(EventDispatcher.prototype);\nMouse.prototype.constructor = Mouse;\n\nMouse.prototype._removeDocumentListener = function () {\n  document.removeEventListener(DocumentEvent.MOUSE_MOVE, this._onDocumentMouseMove);\n  document.removeEventListener(DocumentEvent.MOUSE_WHEEL, this._onDocumentMouseWheel);\n};\n\nMouse.prototype.getPosition = function () {\n  return this._pos;\n};\n\nMouse.prototype.getX = function () {\n  return this._pos[0];\n};\n\nMouse.prototype.getY = function () {\n  return this._pos[1];\n};\n\nMouse.prototype.getWheelDirection = function () {\n  return this._wheelDirection;\n};\n\nMouse.prototype.getHoverElement = function () {\n  return this._hoverElement;\n};\n\nMouse.setup = function () {\n  instance = instance || new Mouse();\n  return instance;\n};\n\nMouse.get = function () {\n  return instance;\n};\n\nMouse.destroy = function () {\n  instance._removeDocumentListener();\n\n  instance = null;\n};\n\nmodule.exports = Mouse;","map":{"version":3,"sources":["/Users/roaa/Desktop/demo/node_modules/@brunoimbrizi/controlkit/lib/core/document/Mouse.js"],"names":["EventDispatcher","require","Event_","DocumentEvent","instance","Mouse","apply","_pos","_wheelDirection","_hoverElement","self","_onDocumentMouseMove","e","dx","dy","window","event","pageX","pageY","clientX","document","body","scrollLeft","documentElement","clientY","scrollTop","elementFromPoint","_onDocumentMouseWheel","detail","wheelDelta","dispatchEvent","MOUSE_WHEEL","addEventListener","MOUSE_MOVE","prototype","Object","create","constructor","_removeDocumentListener","removeEventListener","getPosition","getX","getY","getWheelDirection","getHoverElement","setup","get","destroy","module","exports"],"mappings":"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","sourcesContent":["var EventDispatcher = require('../event/EventDispatcher'),\r\n    Event_ = require('../event/Event'),\r\n    DocumentEvent = require('./DocumentEvent');\r\nvar instance = null;\r\n\r\nfunction Mouse() {\r\n    EventDispatcher.apply(this);\r\n    this._pos = [0,0];\r\n    this._wheelDirection = 0;\r\n    this._hoverElement = null;\r\n\r\n    var self = this;\r\n    this._onDocumentMouseMove = function(e){\r\n        var dx = 0,\r\n            dy = 0;\r\n\r\n        if (!e)e = window.event;\r\n        if (e.pageX) {\r\n            dx = e.pageX;\r\n            dy = e.pageY;\r\n        }\r\n        else if (e.clientX) {\r\n            dx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\r\n            dy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\r\n        }\r\n        self._pos[0] = dx;\r\n        self._pos[1] = dy;\r\n\r\n        self._hoverElement = document.elementFromPoint(dx,dy);\r\n    };\r\n\r\n    this._onDocumentMouseWheel = function(event){\r\n        self._wheelDirection = (event.detail < 0) ? 1 : (event.wheelDelta > 0) ? 1 : -1;\r\n        self.dispatchEvent(new Event_(self,DocumentEvent.MOUSE_WHEEL,event));\r\n    };\r\n\r\n    document.addEventListener(DocumentEvent.MOUSE_MOVE, this._onDocumentMouseMove);\r\n    document.addEventListener(DocumentEvent.MOUSE_WHEEL,this._onDocumentMouseWheel);\r\n}\r\nMouse.prototype = Object.create(EventDispatcher.prototype);\r\nMouse.prototype.constructor = Mouse;\r\n\r\nMouse.prototype._removeDocumentListener = function(){\r\n    document.removeEventListener(DocumentEvent.MOUSE_MOVE, this._onDocumentMouseMove);\r\n    document.removeEventListener(DocumentEvent.MOUSE_WHEEL,this._onDocumentMouseWheel);\r\n};\r\n\r\nMouse.prototype.getPosition = function () {\r\n    return this._pos;\r\n};\r\n\r\nMouse.prototype.getX = function () {\r\n    return this._pos[0];\r\n};\r\n\r\nMouse.prototype.getY = function () {\r\n    return this._pos[1];\r\n};\r\n\r\nMouse.prototype.getWheelDirection = function(){\r\n    return this._wheelDirection;\r\n};\r\n\r\nMouse.prototype.getHoverElement = function(){\r\n    return this._hoverElement;\r\n};\r\n\r\nMouse.setup = function () {\r\n    instance = instance || new Mouse();\r\n    return instance;\r\n};\r\n\r\nMouse.get = function () {\r\n    return instance;\r\n};\r\n\r\nMouse.destroy = function(){\r\n    instance._removeDocumentListener();\r\n    instance = null;\r\n};\r\n\r\nmodule.exports = Mouse;"]},"metadata":{},"sourceType":"script"}