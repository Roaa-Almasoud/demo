{"ast":null,"code":"var Component = require('../core/Component');\n\nvar CSS = require('../core/document/CSS'),\n    Metric = require('./Metric');\n\nvar Event_ = require('../core/event/Event'),\n    GroupEvent = require('../group/GroupEvent');\n\nfunction Canvas(parent, params) {\n  params.label = params.label || '';\n  Component.apply(this, [parent, params.label]);\n  var wrap = this._wrapNode;\n  wrap.setStyleClass(CSS.CanvasWrap);\n  var canvas = this._canvas = document.createElement('canvas');\n  wrap.getElement().appendChild(canvas);\n  var width = wrap.getWidth();\n  var height = params.height || width;\n  this._canvasWidth = width;\n  this._canvasHeight = height;\n\n  this._setCanvasSize(width, width);\n\n  this._updateHeight();\n\n  this._node.setStyleClass(CSS.CanvasListItem);\n\n  this._parent.addEventListener(GroupEvent.GROUP_SIZE_CHANGE, this, 'onGroupSizeChange');\n\n  this.addEventListener(GroupEvent.GROUP_SIZE_UPDATE, this._parent, 'onGroupSizeUpdate');\n}\n\nCanvas.prototype = Object.create(Component.prototype);\nCanvas.prototype.constructor = Canvas;\n\nCanvas.prototype._updateHeight = function () {\n  var canvasHeight = this._canvas.height;\n\n  this._wrapNode.setHeight(canvasHeight);\n\n  this._node.setHeight(canvasHeight + Metric.PADDING_WRAPPER);\n};\n\nCanvas.prototype._redraw = function () {};\n\nCanvas.prototype.onGroupSizeChange = function () {\n  var width = this._wrapNode.getWidth();\n\n  this._setCanvasSize(width);\n\n  this._updateHeight();\n\n  this._redraw();\n\n  this.dispatchEvent(new Event_(this, GroupEvent.GROUP_SIZE_UPDATE, null));\n};\n\nCanvas.prototype._setCanvasSize = function (width, height) {\n  var canvasWidth = width;\n  var canvasHeight = height ? height : this._canvasHeight;\n  var canvas = this._canvas;\n  canvas.style.width = canvasWidth + 'px';\n  canvas.style.height = canvasHeight + 'px';\n  canvas.width = canvasWidth;\n  canvas.height = canvasHeight;\n};\n\nCanvas.prototype.getCanvas = function () {\n  return this._canvas;\n};\n\nCanvas.prototype.getContext = function () {\n  return this._canvas.getContext('2d');\n};\n\nmodule.exports = Canvas;","map":{"version":3,"sources":["/Users/roaa/Desktop/demo/node_modules/@brunoimbrizi/controlkit/lib/component/Canvas.js"],"names":["Component","require","CSS","Metric","Event_","GroupEvent","Canvas","parent","params","label","apply","wrap","_wrapNode","setStyleClass","CanvasWrap","canvas","_canvas","document","createElement","getElement","appendChild","width","getWidth","height","_canvasWidth","_canvasHeight","_setCanvasSize","_updateHeight","_node","CanvasListItem","_parent","addEventListener","GROUP_SIZE_CHANGE","GROUP_SIZE_UPDATE","prototype","Object","create","constructor","canvasHeight","setHeight","PADDING_WRAPPER","_redraw","onGroupSizeChange","dispatchEvent","canvasWidth","style","getCanvas","getContext","module","exports"],"mappings":"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","sourcesContent":["var Component = require('../core/Component');\r\nvar CSS       = require('../core/document/CSS'),\r\n    Metric    = require('./Metric');\r\n\r\nvar Event_     = require('../core/event/Event'),\r\n    GroupEvent = require('../group/GroupEvent');\r\n\r\nfunction Canvas(parent,params) {\r\n    params.label = params.label || '';\r\n\r\n    Component.apply(this,[parent,params.label]);\r\n\r\n    var wrap = this._wrapNode;\r\n        wrap.setStyleClass(CSS.CanvasWrap);\r\n    var canvas = this._canvas = document.createElement('canvas');\r\n        wrap.getElement().appendChild(canvas);\r\n\r\n    var width = wrap.getWidth();\r\n    var height = params.height || width;\r\n    this._canvasWidth = width;\r\n    this._canvasHeight = height;\r\n    this._setCanvasSize(width,width);\r\n    this._updateHeight();\r\n\r\n    this._node.setStyleClass(CSS.CanvasListItem);\r\n    this._parent.addEventListener(GroupEvent.GROUP_SIZE_CHANGE,this,  'onGroupSizeChange');\r\n    this.addEventListener(GroupEvent.GROUP_SIZE_UPDATE,this._parent,'onGroupSizeUpdate');\r\n}\r\nCanvas.prototype = Object.create(Component.prototype);\r\nCanvas.prototype.constructor = Canvas;\r\n\r\nCanvas.prototype._updateHeight = function () {\r\n    var canvasHeight = this._canvas.height;\r\n\r\n    this._wrapNode.setHeight(canvasHeight);\r\n    this._node.setHeight(canvasHeight + Metric.PADDING_WRAPPER);\r\n};\r\n\r\nCanvas.prototype._redraw = function(){};\r\n\r\nCanvas.prototype.onGroupSizeChange = function () {\r\n    var width = this._wrapNode.getWidth();\r\n\r\n    this._setCanvasSize(width);\r\n    this._updateHeight();\r\n    this._redraw();\r\n\r\n    this.dispatchEvent(new Event_(this, GroupEvent.GROUP_SIZE_UPDATE, null));\r\n};\r\n\r\nCanvas.prototype._setCanvasSize = function (width, height) {\r\n    var canvasWidth = width;\r\n    var canvasHeight = (height) ? height : this._canvasHeight;\r\n\r\n    var canvas = this._canvas;\r\n        canvas.style.width = canvasWidth + 'px';\r\n        canvas.style.height = canvasHeight + 'px';\r\n        canvas.width = canvasWidth;\r\n        canvas.height = canvasHeight;\r\n};\r\n\r\nCanvas.prototype.getCanvas = function () {\r\n    return this._canvas;\r\n};\r\n\r\nCanvas.prototype.getContext = function () {\r\n    return this._canvas.getContext('2d');\r\n};\r\n\r\nmodule.exports = Canvas;\r\n"]},"metadata":{},"sourceType":"script"}